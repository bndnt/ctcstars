{"version":3,"file":"index-C25DCOss.js","sources":["../../src/js/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  // Получаем все элементы с классом .js-forms-popup\n  const popupBlocks = document.querySelectorAll('.js-forms-popup');\n\n  // Получаем элемент с классом .js-header__button-block\n  const openButton = document.querySelector('.js-header__button-block');\n\n  // Получаем элемент с классом .js-login-bg\n  const loginBg = document.querySelector('.js-login-bg');\n\n  // Добавление активного класса ко всем .js-forms-popup и к .js-login-bg по клику на .js-header__button-block\n  openButton.addEventListener('click', function (event) {\n    event.preventDefault(); // Предотвращаем переход по ссылке\n    popupBlocks.forEach(function (popup) {\n      popup.classList.add('active');\n    });\n    loginBg.classList.add('active');\n  });\n\n  // Обработка кликов на кнопки закрытия .js-login-btn-close\n  popupBlocks.forEach(function (popup) {\n    const closeButton = popup.querySelector('.js-login-btn-close');\n    closeButton.addEventListener('click', function () {\n      popup.classList.remove('active');\n\n      // Проверка, если все .js-forms-popup не имеют активного класса, удалить активный класс у .js-login-bg\n      if (![...popupBlocks].some(popup => popup.classList.contains('active'))) {\n        loginBg.classList.remove('active');\n      }\n    });\n  });\n\n  // Скрытие всех .js-forms-popup и .js-login-bg по клику на .js-login-bg\n  loginBg.addEventListener('click', function () {\n    popupBlocks.forEach(function (popup) {\n      popup.classList.remove('active');\n    });\n    loginBg.classList.remove('active');\n  });\n});\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Получаем все элементы с классом .js-forms-popup\n  const popupBlocks = document.querySelectorAll('.js-forms-popup');\n\n  // Получаем элемент с классом .js-header__button-block\n  const openButton = document.querySelector('.js-header__button-block-mob');\n\n  // Получаем элемент с классом .js-login-bg\n  const loginBg = document.querySelector('.js-login-bg');\n\n  // Добавление активного класса ко всем .js-forms-popup и к .js-login-bg по клику на .js-header__button-block\n  openButton.addEventListener('click', function (event) {\n    event.preventDefault(); // Предотвращаем переход по ссылке\n    popupBlocks.forEach(function (popup) {\n      popup.classList.add('active');\n    });\n    document.querySelector('#mobile_menu_toggle').classList.toggle('active');\n    document.querySelector('.mobile__menu').classList.toggle('active');\n\n    document.querySelector('.top__hamburger').classList.toggle('active');\n    loginBg.classList.add('active');\n  });\n\n  // Обработка кликов на кнопки закрытия .js-login-btn-close\n  popupBlocks.forEach(function (popup) {\n    const closeButton = popup.querySelector('.js-login-btn-close');\n    closeButton.addEventListener('click', function () {\n      popup.classList.remove('active');\n\n      // Проверка, если все .js-forms-popup не имеют активного класса, удалить активный класс у .js-login-bg\n      if (![...popupBlocks].some(popup => popup.classList.contains('active'))) {\n        loginBg.classList.remove('active');\n      }\n    });\n  });\n\n  // Скрытие всех .js-forms-popup и .js-login-bg по клику на .js-login-bg\n  loginBg.addEventListener('click', function () {\n    popupBlocks.forEach(function (popup) {\n      popup.classList.remove('active');\n    });\n    loginBg.classList.remove('active');\n  });\n});\ndocument.addEventListener('DOMContentLoaded', function () {\n  const showMoreButton = document.querySelector('.songs-show-more__button');\n  const showMoreText = document.querySelector('.songs-show-more__span');\n  const songsList = document.querySelector('.songs__list');\n  const songsShowMore = document.querySelector('.songs-show-more');\n\n  const getMaxHeight = () => {\n    return window.innerWidth <= 650 ? '600px' : '955px';\n  };\n\n  const toggleSongsList = () => {\n    if (songsList.classList.contains('expanded')) {\n      // Убираем активный класс\n      songsList.classList.remove('expanded');\n      songsShowMore.classList.remove('active');\n      // Возвращаем максимальную высоту\n      songsList.style.maxHeight = getMaxHeight();\n      // Меняем текст на \"Показать ещё\"\n      showMoreText.textContent = 'Показать ещё';\n    } else {\n      // Добавляем активный класс\n      songsList.classList.add('expanded');\n      songsShowMore.classList.add('active');\n      // Устанавливаем высоту в зависимости от контента\n      songsList.style.maxHeight = `${songsList.scrollHeight}px`;\n      // Меняем текст на \"Скрыть\"\n      showMoreText.textContent = 'Скрыть';\n    }\n  };\n\n  showMoreButton.addEventListener('click', toggleSongsList);\n\n  // Устанавливаем начальную максимальную высоту в зависимости от ширины экрана\n  songsList.style.maxHeight = getMaxHeight();\n\n  // Обновляем максимальную высоту при изменении размера экрана\n  window.addEventListener('resize', function () {\n    if (!songsList.classList.contains('expanded')) {\n      songsList.style.maxHeight = getMaxHeight();\n    }\n  });\n});\n\nnew Accordion('.accordion-container', {\n  duration: 400,\n  showMultiple: true,\n});\n\ndocument\n  .querySelector('#mobile_menu_toggle')\n  .addEventListener('click', function (e) {\n    e.preventDefault();\n    this.classList.toggle('active');\n    document.querySelector('.mobile__menu').classList.toggle('active');\n    document.querySelector('.js-login-bg').classList.toggle('active');\n\n    document.querySelector('.top__hamburger').classList.toggle('active');\n    document.body.classList.toggle('hidden');\n  });\ndocument.addEventListener('DOMContentLoaded', function () {\n  const anchorLinks = document.querySelectorAll('a[href^=\"#\"]');\n\n  anchorLinks.forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n      e.preventDefault();\n\n      const targetId = this.getAttribute('href').substring(1);\n      const targetElement = document.getElementById(targetId);\n\n      if (targetElement) {\n        window.scrollTo({\n          top: targetElement.offsetTop,\n          behavior: 'smooth',\n        });\n      }\n    });\n  });\n});\ndocument.addEventListener('DOMContentLoaded', function () {\n  const phoneInput = document.querySelector('.js-phone-input');\n\n  phoneInput.addEventListener('focus', function () {\n    // Если поле пустое, при фокусе сразу вставляем маску\n    if (phoneInput.value === '') {\n      phoneInput.value = '+7 (___) ___-__-__';\n      phoneInput.setSelectionRange(4, 4); // Ставим курсор после \"+7 (\"\n    }\n  });\n\n  phoneInput.addEventListener('input', function (e) {\n    let input = phoneInput.value.replace(/\\D/g, ''); // Убираем все нецифровые символы\n    if (input.length === 0) {\n      phoneInput.value = '+7 (___) ___-__-__';\n      phoneInput.setSelectionRange(4, 4); // Возвращаем курсор на начало ввода после \"+7 (\"\n    } else {\n      // Ограничиваем ввод 10 цифрами (после 7)\n      input = input.substring(1, 11); // Убираем первый символ (7), чтобы не продублировать его\n\n      let formattedInput = '+7 (';\n      if (input.length > 0) {\n        formattedInput += input.substring(0, 3); // Первые 3 цифры\n      }\n      if (input.length >= 4) {\n        formattedInput += ') ' + input.substring(3, 6); // Следующие 3 цифры\n      }\n      if (input.length >= 7) {\n        formattedInput += '-' + input.substring(6, 8); // Следующие 2 цифры\n      }\n      if (input.length >= 9) {\n        formattedInput += '-' + input.substring(8, 10); // Последние 2 цифры\n      }\n\n      // Дополняем недостающие части маски подчеркиванием\n      if (input.length < 10) {\n        formattedInput += '_'.repeat(10 - input.length);\n      }\n\n      phoneInput.value = formattedInput;\n\n      // Если пользователь пытается удалить маску\n      if (phoneInput.value.length < 4) {\n        phoneInput.value = '+7 (';\n      }\n    }\n  });\n\n  phoneInput.addEventListener('blur', function () {\n    // Очищаем поле, если ничего не введено\n    if (phoneInput.value === '+7 (___) ___-__-__') {\n      phoneInput.value = '';\n    }\n  });\n\n  // Ограничиваем доступные для ввода символы только цифрами\n  phoneInput.addEventListener('keydown', function (e) {\n    if (\n      !/[0-9]/.test(e.key) &&\n      e.key !== 'Backspace' &&\n      e.key !== 'ArrowLeft' &&\n      e.key !== 'ArrowRight'\n    ) {\n      e.preventDefault();\n    }\n  });\n});\n"],"names":["popupBlocks","openButton","loginBg","event","popup","showMoreButton","showMoreText","songsList","songsShowMore","getMaxHeight","toggleSongsList","e","anchor","targetId","targetElement","phoneInput","input","formattedInput"],"mappings":"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"}