{"version":3,"file":"main-0koEzcuB.js","sources":["../../src/main.js"],"sourcesContent":["// СТРАНИЦА ВИДЕО\n// ПОИСК\ndocument\n  .querySelector('.header__search-input')\n  .addEventListener('input', function () {\n    const loadIcon = document.querySelector('.header__search-load');\n    const closeIcon = document.querySelector('.header__search-close');\n    const resultList = document.querySelector('.header-search__result-list');\n\n    if (this.value.length > 0) {\n      // Показать блок загрузки\n      loadIcon.style.display = 'block';\n      closeIcon.style.display = 'none';\n      resultList.style.display = 'none';\n\n      // Через 2 секунды скрыть блок загрузки и показать блок с результатами и кнопку закрытия\n      setTimeout(() => {\n        loadIcon.style.display = 'none';\n        closeIcon.style.display = 'block';\n        resultList.style.display = 'block';\n      }, 500);\n    } else {\n      // Если поле ввода пустое, скрыть все блоки\n      loadIcon.style.display = 'none';\n      closeIcon.style.display = 'none';\n      resultList.style.display = 'none';\n    }\n  });\n\ndocument\n  .querySelector('.header__search-close')\n  .addEventListener('click', function () {\n    const input = document.querySelector('.header__search-input');\n    const closeIcon = document.querySelector('.header__search-close');\n    const resultList = document.querySelector('.header-search__result-list');\n\n    // Очистка поля ввода\n    input.value = '';\n\n    // Скрыть блоки\n    closeIcon.style.display = 'none';\n    resultList.style.display = 'none';\n  });\n\n// VIDEO PAGE SCROLL\ndocument.addEventListener('DOMContentLoaded', function () {\n  const videos = document.querySelectorAll('.video-main__video');\n  function pauseAllVideos() {\n    videos.forEach(video => {\n      video.pause();\n    });\n  }\n  function playVisibleVideo() {\n    videos.forEach(video => {\n      const rect = video.getBoundingClientRect();\n      const inView = rect.top >= 0 && rect.bottom <= window.innerHeight;\n      if (inView) {\n        video.play();\n      } else {\n        video.pause();\n      }\n    });\n  }\n  // Initial check to pause all videos except the one in view\n  playVisibleVideo();\n  // Add event listener for scrolling\n  window.addEventListener('scroll', playVisibleVideo);\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const posts = document.querySelectorAll('.video-main__item');\n\n  posts.forEach(post => {\n    const likeButton = post.querySelector('.video__btn');\n    const likeText = post.querySelector('.video__btn-span-text');\n    const likesContainer = post.querySelector('.video__likes');\n    const heartsContainer = post.querySelector('.video__hearts');\n\n    likeButton.addEventListener('click', () => {\n      const hearts = post.querySelectorAll('.video-heart');\n\n      if (post.classList.contains('liked')) {\n        // Remove like\n        post.classList.remove('liked');\n        likesContainer.classList.remove('active');\n        likeText.textContent = 'голосовать';\n\n        // Remove hearts animation by clearing inline styles\n        hearts.forEach(heart => {\n          heart.style.animation = 'none';\n        });\n\n        // Hide the hearts container\n        heartsContainer.style.display = 'none';\n      } else {\n        // Add like\n        post.classList.add('liked');\n        likesContainer.classList.add('active');\n        likeText.textContent = 'голос оставлен';\n\n        // Show the hearts container and start animation\n        heartsContainer.style.display = 'flex';\n        hearts.forEach((heart, index) => {\n          const offsetX = Math.random() * 100 - 10;\n          heart.style.setProperty('--offset-x', `${offsetX}px`);\n          heart.style.animation = `heartAnimation 3s forwards`;\n          heart.style.animationDelay = `${index * 0.3}s`;\n        });\n      }\n    });\n  });\n});\n"],"names":["loadIcon","closeIcon","resultList","input","videos","playVisibleVideo","video","rect","post","likeButton","likeText","likesContainer","heartsContainer","hearts","heart","index","offsetX"],"mappings":"AAEA,SACG,cAAc,uBAAuB,EACrC,iBAAiB,QAAS,UAAY,CACrC,MAAMA,EAAW,SAAS,cAAc,sBAAsB,EACxDC,EAAY,SAAS,cAAc,uBAAuB,EAC1DC,EAAa,SAAS,cAAc,6BAA6B,EAEnE,KAAK,MAAM,OAAS,GAEtBF,EAAS,MAAM,QAAU,QACzBC,EAAU,MAAM,QAAU,OAC1BC,EAAW,MAAM,QAAU,OAG3B,WAAW,IAAM,CACfF,EAAS,MAAM,QAAU,OACzBC,EAAU,MAAM,QAAU,QAC1BC,EAAW,MAAM,QAAU,OAC5B,EAAE,GAAG,IAGNF,EAAS,MAAM,QAAU,OACzBC,EAAU,MAAM,QAAU,OAC1BC,EAAW,MAAM,QAAU,OAEjC,CAAG,EAEH,SACG,cAAc,uBAAuB,EACrC,iBAAiB,QAAS,UAAY,CACrC,MAAMC,EAAQ,SAAS,cAAc,uBAAuB,EACtDF,EAAY,SAAS,cAAc,uBAAuB,EAC1DC,EAAa,SAAS,cAAc,6BAA6B,EAGvEC,EAAM,MAAQ,GAGdF,EAAU,MAAM,QAAU,OAC1BC,EAAW,MAAM,QAAU,MAC/B,CAAG,EAGH,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAME,EAAS,SAAS,iBAAiB,oBAAoB,EAM7D,SAASC,GAAmB,CAC1BD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAOD,EAAM,wBACJC,EAAK,KAAO,GAAKA,EAAK,QAAU,OAAO,YAEpDD,EAAM,KAAI,EAEVA,EAAM,MAAK,CAEnB,CAAK,CACF,CAEDD,IAEA,OAAO,iBAAiB,SAAUA,CAAgB,CACpD,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CACpC,SAAS,iBAAiB,mBAAmB,EAErD,QAAQG,GAAQ,CACpB,MAAMC,EAAaD,EAAK,cAAc,aAAa,EAC7CE,EAAWF,EAAK,cAAc,uBAAuB,EACrDG,EAAiBH,EAAK,cAAc,eAAe,EACnDI,EAAkBJ,EAAK,cAAc,gBAAgB,EAE3DC,EAAW,iBAAiB,QAAS,IAAM,CACzC,MAAMI,EAASL,EAAK,iBAAiB,cAAc,EAE/CA,EAAK,UAAU,SAAS,OAAO,GAEjCA,EAAK,UAAU,OAAO,OAAO,EAC7BG,EAAe,UAAU,OAAO,QAAQ,EACxCD,EAAS,YAAc,aAGvBG,EAAO,QAAQC,GAAS,CACtBA,EAAM,MAAM,UAAY,MAClC,CAAS,EAGDF,EAAgB,MAAM,QAAU,SAGhCJ,EAAK,UAAU,IAAI,OAAO,EAC1BG,EAAe,UAAU,IAAI,QAAQ,EACrCD,EAAS,YAAc,iBAGvBE,EAAgB,MAAM,QAAU,OAChCC,EAAO,QAAQ,CAACC,EAAOC,IAAU,CAC/B,MAAMC,EAAU,KAAK,OAAM,EAAK,IAAM,GACtCF,EAAM,MAAM,YAAY,aAAc,GAAGE,CAAO,IAAI,EACpDF,EAAM,MAAM,UAAY,6BACxBA,EAAM,MAAM,eAAiB,GAAGC,EAAQ,EAAG,GACrD,CAAS,EAET,CAAK,CACL,CAAG,CACH,CAAC"}